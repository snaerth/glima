{"version":3,"sources":["components/Title/Title.js","components/Title/index.js","components/BannerSmall/BannerSmall.js","components/BannerSmall/index.js","components/Pagination/Pagination.js","components/Pagination/index.js","components/EventItem/EventItem.module.scss","routes/Events/Events.module.scss","components/EventItem/EventItem.js","routes/Events/Events.js"],"names":["Title","_ref","children","className","react_default","a","createElement","react","Responsive","Typography_default","variant","gutterBottom","__webpack_require__","d","__webpack_exports__","components_Title_Title","withStyles","theme","_h","container","backgroundColor","palette","primary","main","containerInner","maxWidth","appDefault","pageWidthMax","h1","color","common","white","Object","defineProperty","breakpoints","up","values","sm","paddingLeft","spacing","unit","md","lg","text","classes","Container","BannerSmall_BannerSmall","Pagination","initialPage","pageCount","onPageChangeHandler","dist_default","previousLabel","nextLabel","breakLabel","breakClassName","marginPagesDisplayed","pageRangeDisplayed","onPageChange","disableInitialCallback","containerClassName","subContainerClassName","activeClassName","components_Pagination_Pagination","module","exports","card","cardHeader","cardContent","dateMobile","content","imageContainer","media","footer","footerLeft","EventItem","readMoreClickHandler","_callee","e","_this$props","event","history","actions","regenerator_default","wrap","_context","prev","next","_this","props","setActiveEvent","push","concat","id","stop","this","_this$props2","excerpt","title","start_date","end_date_details","start_date_details","image","img","sizes","medium_large","url","formattedDate","formatDate","hour","minutes","s","onClick","component","CardMedia_default","alt","dangerouslySetInnerHTML","__html","Button_default","size","PureComponent","withRouter","connect","dispatch","bindActionCreators","root","padding","fontWeight","cursor","&:hover","textDecoration","Events","eventClickHandler","events","filter","length","paginateHandler","page","selected","location","qsPageParam","queryString","parse","search","pageNumber","Number","setEventsLoading","setEventPage","getEvents","pathname","includes","prevProps","_this$props3","_this$props4","totalPages","loading","error","Loading","NoData","textCenter","isLastPostIdx","BannerSmall","map","idx","key","components_EventItem_EventItem","Divider_default","defaultProps","state","_state$events","data","margin"],"mappings":"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","file":"static/js/6.0d1adc81.chunk.js","sourcesContent":["import React, { Fragment } from \"react\";\nimport PropTypes from \"prop-types\";\nimport Typography from \"@material-ui/core/Typography\";\nimport { Mobile, Tablet, Desktop } from \"../../components/Responsive\";\n\nconst Title = ({ children, className }) => (\n  <Fragment>\n    <Desktop>\n      <Typography variant=\"h2\" gutterBottom className={className}>\n        {children}\n      </Typography>\n    </Desktop>\n    <Tablet>\n      <Typography variant=\"h3\" gutterBottom className={className}>\n        {children}\n      </Typography>\n    </Tablet>\n    <Mobile>\n      <Typography variant=\"h4\" gutterBottom className={className}>\n        {children}\n      </Typography>\n    </Mobile>\n  </Fragment>\n);\n\nTitle.propTypes = {\n  children: PropTypes.node.isRequired,\n  className: PropTypes.string\n};\n\nexport default Title;\n","export { default } from './Title';\n","import React from \"react\";\nimport PropTypes from \"prop-types\";\nimport { withStyles } from \"@material-ui/core/styles\";\nimport { appDefault } from \"../../utils/createMuiTheme\";\nimport Title from \"../Title\";\nimport Container from \"../Container\";\n\nconst styles = theme => ({\n  container: {\n    backgroundColor: theme.palette.primary.main\n  },\n  containerInner: {\n    maxWidth: appDefault.pageWidthMax\n  },\n  h1: {\n    color: theme.palette.common.white,\n    [theme.breakpoints.up(theme.breakpoints.values.sm)]: {\n      paddingLeft: theme.spacing.unit\n    },\n    [theme.breakpoints.up(theme.breakpoints.values.md)]: {\n      paddingLeft: theme.spacing.unit * 1.5\n    },\n    [theme.breakpoints.up(theme.breakpoints.values.lg)]: {\n      paddingLeft: theme.spacing.unit * 3\n    }\n  }\n});\n\nfunction BannerSmall({ text, classes }) {\n  return (\n    <div className={classes.container}>\n      <Container className={classes.containerInner}>\n        <Title className={classes.h1}>{text}</Title>\n      </Container>\n    </div>\n  );\n}\n\nBannerSmall.propTypes = {\n  classes: PropTypes.object.isRequired,\n  text: PropTypes.string.isRequired\n};\n\nexport default withStyles(styles)(BannerSmall);\n","export { default } from './BannerSmall';\n","import React from \"react\";\nimport ReactPaginate from \"react-paginate\";\nimport PropTypes from \"prop-types\";\n\nconst Pagination = ({ initialPage, pageCount, onPageChangeHandler }) => {\n  if (pageCount <= 1) {\n    return null;\n  }\n\n  return (\n    <ReactPaginate\n      previousLabel=\"❮\"\n      nextLabel=\"❯\"\n      breakLabel={<span>...</span>}\n      breakClassName=\"break-me\"\n      pageCount={pageCount}\n      initialPage={initialPage - 1}\n      marginPagesDisplayed={2}\n      pageRangeDisplayed={5}\n      onPageChange={onPageChangeHandler}\n      disableInitialCallback\n      containerClassName=\"pagination\"\n      subContainerClassName=\"pages pagination\"\n      activeClassName=\"active\"\n    />\n  );\n};\n\nPagination.propTypes = {\n  initialPage: PropTypes.number.isRequired,\n  pageCount: PropTypes.number.isRequired,\n  onPageChangeHandler: PropTypes.func.isRequired\n};\n\nexport default Pagination;\n","export { default } from './Pagination';\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"card\":\"EventItem_card__1qThB\",\"cardHeader\":\"EventItem_cardHeader__2VrYb\",\"cardContent\":\"EventItem_cardContent__1BIPY\",\"dateMobile\":\"EventItem_dateMobile__X4rbo\",\"content\":\"EventItem_content__33zBA\",\"imageContainer\":\"EventItem_imageContainer__Nw7pD\",\"media\":\"EventItem_media__1j_Bb\",\"footer\":\"EventItem_footer__39HQ7\",\"footerLeft\":\"EventItem_footerLeft__27qbo\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"Events_container__BxW1G\"};","import React, { PureComponent } from \"react\";\nimport PropTypes from \"prop-types\";\nimport { withRouter } from \"react-router\";\nimport { connect } from \"react-redux\";\nimport { bindActionCreators } from \"redux\";\nimport { withStyles } from \"@material-ui/core/styles\";\nimport CardMedia from \"@material-ui/core/CardMedia\";\nimport Button from \"@material-ui/core/Button\";\nimport Typography from \"@material-ui/core/Typography\";\nimport { setActiveEvent } from \"../../actions/events\";\nimport formatDate from \"../../utils/dateHelper\";\nimport { MobileOnly, MobileAndUp } from \"../../components/Responsive\";\nimport s from \"./EventItem.module.scss\";\n\nconst styles = {\n  root: {\n    padding: \"16px 0\"\n  },\n  title: {\n    fontWeight: 700,\n    cursor: \"pointer\",\n    \"&:hover\": {\n      textDecoration: \"underline\"\n    }\n  }\n};\n\nclass EventItem extends PureComponent {\n  static propTypes = {\n    event: PropTypes.shape({\n      excerpt: PropTypes.string.isRequired,\n      title: PropTypes.string.isRequired,\n      start_date: PropTypes.string.isRequired,\n      end_date_details: PropTypes.object.isRequired,\n      start_date_details: PropTypes.object.isRequired\n    }).isRequired,\n    match: PropTypes.object.isRequired,\n    location: PropTypes.object.isRequired,\n    history: PropTypes.object.isRequired\n  };\n\n  /**\n   * Dispatches set active event action and\n   * navigates to event route\n   */\n  readMoreClickHandler = async e => {\n    const { event, history, actions } = this.props;\n\n    // Sets active event in Redux state\n    await actions.setActiveEvent(event);\n\n    // Navigates user to /vidburdir/:id route\n    history.push(`/vidburdir/${event.id}`);\n  };\n\n  render() {\n    const { event, classes } = this.props;\n    const {\n      excerpt,\n      title,\n      start_date,\n      end_date_details,\n      start_date_details,\n      image\n    } = event;\n    let img = null;\n\n    if (\n      image &&\n      image.sizes &&\n      image.sizes.medium_large &&\n      image.sizes.medium_large.url\n    ) {\n      img = image.sizes.medium_large.url;\n    }\n\n    const formattedDate = `${formatDate(start_date, false)}  frá kl. ${\n      start_date_details.hour\n    }:${start_date_details.minutes} til ${end_date_details.hour}:${\n      end_date_details.minutes\n    }`;\n\n    return (\n      <div className={s.card}>\n        <MobileOnly>\n          <Typography\n            variant=\"h6\"\n            className={classes.title}\n            onClick={this.readMoreClickHandler}\n          >\n            {title}\n          </Typography>\n          <Typography\n            color=\"textSecondary\"\n            component=\"span\"\n            className={s.dateMobile}\n          >\n            {formattedDate}\n          </Typography>\n          {img && (\n            <CardMedia\n              alt={title}\n              className={s.media}\n              image={img}\n              title={title}\n            />\n          )}\n        </MobileOnly>\n        <div className={s.cardContent}>\n          <div className={s.content}>\n            <MobileAndUp>\n              <Typography\n                gutterBottom\n                variant=\"h6\"\n                className={classes.title}\n                onClick={this.readMoreClickHandler}\n              >\n                {title}\n              </Typography>\n              <Typography color=\"textSecondary\" component=\"span\">\n                {formattedDate}\n              </Typography>\n            </MobileAndUp>\n            <Typography component=\"span\">\n              <span dangerouslySetInnerHTML={{ __html: excerpt }} />\n            </Typography>\n          </div>\n          <MobileAndUp>\n            <div className={s.imageContainer}>\n              {img && (\n                <CardMedia\n                  alt={title}\n                  className={s.media}\n                  image={img}\n                  title={title}\n                />\n              )}\n            </div>\n          </MobileAndUp>\n        </div>\n        <div className={s.footer}>\n          <div>\n            <Button\n              size=\"small\"\n              color=\"primary\"\n              onClick={this.readMoreClickHandler}\n            >\n              Lesa meira\n            </Button>\n          </div>\n        </div>\n      </div>\n    );\n  }\n}\n\n/**\n * Maps dispatch to components props\n *\n * @param {Object} dispatch - Redux dispatch medhod\n * @returns {Object}\n */\nfunction mapDispatchToProps(dispatch) {\n  return {\n    actions: bindActionCreators({ setActiveEvent }, dispatch)\n  };\n}\n\nexport default withRouter(\n  connect(\n    null,\n    mapDispatchToProps\n  )(withStyles(styles)(EventItem))\n);\n","import React, { PureComponent, Fragment } from \"react\";\nimport PropTypes from \"prop-types\";\nimport { connect } from \"react-redux\";\nimport { bindActionCreators } from \"redux\";\nimport queryString from \"query-string\";\nimport Divider from \"@material-ui/core/Divider\";\nimport { withStyles } from \"@material-ui/core/styles\";\nimport getEvents, {\n  setEventsLoading,\n  setActiveEvent,\n  setEventPage\n} from \"../../actions/events\";\nimport EventItem from \"../../components/EventItem\";\nimport Container from \"../../components/Container\";\nimport Pagination from \"../../components/Pagination\";\nimport Loading from \"../../components/Loading\";\nimport NoData from \"../../components/NoData\";\nimport BannerSmall from \"../../components/BannerSmall\";\nimport s from \"./Events.module.scss\";\n\nconst styles = {\n  root: {\n    margin: \"15px 0\"\n  }\n};\n\nclass Events extends PureComponent {\n  static defaultProps = {\n    error: false\n  };\n\n  static propTypes = {\n    actions: PropTypes.object.isRequired,\n    events: PropTypes.array.isRequired,\n    totalPages: PropTypes.number.isRequired,\n    page: PropTypes.number.isRequired,\n    loading: PropTypes.bool.isRequired,\n    history: PropTypes.object.isRequired,\n    error: PropTypes.bool\n  };\n\n  async componentDidMount() {\n    const { actions, events, page, location, history } = this.props;\n\n    const qsPageParam = queryString.parse(location.search);\n    const pageNumber = Number(qsPageParam.page);\n\n    if (!events || events.length === 0 || pageNumber) {\n      actions.setEventsLoading();\n\n      if (pageNumber) {\n        actions.setEventPage(pageNumber);\n        actions.getEvents(pageNumber);\n      } else {\n        actions.setEventPage(page);\n        actions.getEvents(page);\n\n        if (location.pathname.includes(\"/vidburdir\")) {\n          history.push(\"/vidburdir/?page=1\");\n        }\n      }\n    }\n  }\n\n  componentDidUpdate(prevProps) {\n    const { actions, page, location } = this.props;\n    const qsPageParam = queryString.parse(location.search);\n    const pageNumber = Number(qsPageParam.page);\n\n    if (pageNumber && pageNumber !== prevProps.page && pageNumber !== page) {\n      actions.setEventsLoading();\n\n      if (qsPageParam.page) {\n        actions.setEventPage(pageNumber);\n        actions.getEvents(pageNumber);\n      } else {\n        actions.getEvents(page);\n      }\n    }\n  }\n\n  /**\n   * Event click handler\n   * Dispatches setActiveEvent action and routes user\n   * to event page\n   * @param {Number} id - Event id\n   */\n  eventClickHandler = id => {\n    const { actions, history, events } = this.props;\n    const event = events.filter(event => event.id === id);\n\n    if (event.length > 0) {\n      actions.setActiveEvent(event[0]);\n    }\n\n    history.push(`/vidburdir/${id}`);\n  };\n\n  /**\n   * Changes pagination\n   *\n   * @param {Object} obj\n   * @param {Number} obj.selected - Selected page in pagination\n   */\n  paginateHandler = ({ selected }) => {\n    const { history } = this.props;\n    const page = selected + 1;\n    history.push(`/vidburdir/?page=${page}`);\n  };\n\n  render() {\n    const { events, classes, totalPages, page, loading, error } = this.props;\n\n    if (loading) {\n      return <Loading text=\"Sæki viðburð...\" />;\n    }\n\n    if (error || !events || events.length === 0) {\n      return <NoData textCenter={false} text=\"Við fundum enga viðburði.\" />;\n    }\n\n    const isLastPostIdx = events.length - 1;\n\n    return (\n      <Fragment>\n        <BannerSmall text=\"Framundan í glímunni\" />\n        <Container className={s.container}>\n          {events.map((event, idx) => (\n            <Fragment key={event.id}>\n              <EventItem event={event} />\n              {isLastPostIdx !== idx && <Divider className={classes.root} />}\n            </Fragment>\n          ))}\n          <Pagination\n            pageCount={totalPages}\n            initialPage={page}\n            onPageChangeHandler={this.paginateHandler}\n          />\n        </Container>\n      </Fragment>\n    );\n  }\n}\n\n/**\n * Maps state to components props\n *\n * @param {Object} state - Application state\n * @returns {Object}\n */\nfunction mapStateToProps(state) {\n  const {\n    events: { data, error, loading, totalPages, page }\n  } = state;\n\n  return {\n    events: data,\n    totalPages,\n    page,\n    error,\n    loading\n  };\n}\n\n/**\n * Maps dispatch to components props\n *\n * @param {Object} dispatch - Redux dispatch medhod\n * @returns {Object}\n */\nfunction mapDispatchToProps(dispatch) {\n  return {\n    actions: bindActionCreators(\n      {\n        getEvents,\n        setEventsLoading,\n        setActiveEvent,\n        setEventPage\n      },\n      dispatch\n    )\n  };\n}\n\nexport default connect(\n  mapStateToProps,\n  mapDispatchToProps\n)(withStyles(styles)(Events));\n"],"sourceRoot":""}